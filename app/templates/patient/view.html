{% extends "/patient/layout.html" %}

{% block body %}

<h2>Patient Details</h2>

<ul>
    <li>ID: {{ patient.id }}</li>
    <li>First Name: {{ patient.first_name }}</li>
    <li>Last Name: {{ patient.last_name }}</li>
    <li>Date of Birth: {{ patient.dob }}</li>
</ul>

<a href="{{ url_for('patient.list') }}">Back to Patients</a>

{% if patient.encounters %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>PC</th>
                <th>Diagnosis</th>
                <th>Outcome</th>
                <th>Date (if you have one)</th>
            </tr>
        </thead>
        <tbody>
        {% for encounter in patient.encounters %}
            <tr>
                <td>{{ encounter.id }}</td>
                <td>{{ encounter.pc }}</td>
                <td>{{ encounter.diagnosis_1 }}</td>
                <td>{{ encounter.outcome }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No encounters found for this patient.</p>
{% endif %}

{% endblock %}
